{% extends 'base.html' %}
{% block styles %}
<link rel="stylesheet" href="">
{% endblock %}

{% block title %}Result Page{% endblock %}

{% block header %}
  <h1 class="page_title">診断結果</h1>
{% endblock %}

{% block main %}
<canvas id="timelineChart" width="600" height="400"></canvas>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.js"></script>
<script>
const tlchart = document.getElementById("timelineChart").getContext('2d');
const graphData = {
  labels: [
    {% for item in labels %}
        '{{ item }}',
    {% endfor %}
  ],
  datasets: [
    {
      label: '空気の悪さ',
      backgroundColor: 'rgba(255, 99, 132, 0.2)',
      borderColor: 'rgba(255, 99, 132, 1)',
      data: [
        {% for item in values %}
            {{ item }},
        {% endfor %}
      ]
    }
  ]
};
const timelineChart = new Chart(tlchart, {
  type: 'line',
  data: graphData,
  options: {
    scales: {
      ticks: {
        stepSize: 10,
        beginAtZero: true,
        min: 0,
        max: 100,
      }
    }
  }
});
</script>
{% endblock %}
